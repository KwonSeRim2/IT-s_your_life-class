<template>
  <div class="row">
    <div class="col-sm-5 border p-3 m-3" v-for="s in studyList" :key="s.id">
      <router-link :to="'/sudies/' + s.id">
        <div class="pb-2">
          <b>{{ s.title }}</b>
        </div>
        <div>
          ğŸ“Œì¹´í…Œê³ ë¦¬: {{ s.category }} <br />
          ğŸ“…ë“±ë¡ì¼: {{ s.createdAt }} <br />
          ğŸ“†ë§ˆê°ì¼: {{ s.dueDate }} <br />
          â¤ ì¢‹ì•„ìš”: {{ s.likes }} <br />
          <span class="badge bg-success">
            {{
              diff(s.dueDate).diffTime > 0
                ? `D-${diff(s.dueDate).diffDays}`
                : 'ëª¨ì§‘ ë§ˆê°'
            }}
          </span>
        </div>
      </router-link>
    </div>
  </div>
</template>
<script setup>
import { inject } from 'vue';
import { computed } from 'vue';

const diff = (tdate) => {
  let diffTime = new Date(tdate) - new Date();
  let diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
  return { diffTime, diffDays };
};
const studyList = inject('studyList');
</script>
